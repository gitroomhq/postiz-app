# Postiz-app 项目详细描述

## 项目概述

Postiz-app 是一个终极 AI 社交媒体调度工具，可替代 Buffer.com、Hypefury、Twitter Hunter 等平台。该工具提供管理社交媒体帖子、建立受众群体、捕获潜在客户和增长业务所需的一切功能。

Postiz 支持多种社交媒体平台，包括 Instagram、YouTube、Dribbble、LinkedIn、Reddit、TikTok、Facebook、Pinterest、Threads、X（Twitter）、Slack、Discord、Mastodon、Bluesky 等，是一个功能全面的社交媒体管理平台。

## 核心功能

### 1. 社交媒体调度
- 支持所有社交媒体平台的内容调度发布
- 集成多种 AI 功能，智能生成内容
- 支持批量内容管理和定时发布

### 2. 内容分析
- 提供详细的内容表现分析
- 实时监控帖子互动数据
- 基于数据分析优化发布策略

### 3. 团队协作
- 支持团队成员邀请和协作
- 可评论和调度帖子
- 团队内容交换或购买功能

### 4. 多平台支持
- 支持 10+ 个主流社交媒体平台
- 统一管理界面
- 平台特定功能优化

## 技术架构

### 整体架构
- **NX**: Monorepo 管理工具
- **NextJS**: React 前端框架
- **NestJS**: Node.js 后端框架
- **Prisma**: 数据库 ORM（默认使用 PostgreSQL）
- **Redis**: 缓存和消息队列（BullMQ）
- **Resend**: 邮件通知服务

### 前端技术栈
- **NextJS**: React 框架，用于构建用户界面
- **React**: JavaScript 库，用于构建用户界面
- **TailwindCSS**: CSS 框架，用于样式设计
- **TypeScript**: JavaScript 超集，提供类型安全

### 后端技术栈
- **NestJS**: 用于构建可扩展的 Node.js 服务器端应用程序
- **Prisma**: 现代数据库工具，提供类型安全的数据库访问
- **Redis**: 内存数据结构存储，用于缓存和队列
- **BullMQ**: 高性能队列系统

### 核心依赖
- **@nestjs/common**: NestJS 核心模块
- **@nestjs/core**: NestJS 核心运行时
- **@prisma/client**: Prisma 数据库客户端
- **ioredis**: Redis 客户端
- **bullmq**: 队列处理系统
- **react**: 前端 UI 库
- **next**: React 框架
- **openai**: OpenAI API 客户端
- **twitter-api-v2**: Twitter API v2 客户端
- **@neynar/nodejs-sdk**: Neynar SDK
- **resend**: 邮件发送服务

## 部署要求

### 服务器性能要求
- **CPU**: 至少 2 核 CPU（推荐 4 核或以上）
- **内存**: 至少 4GB RAM（推荐 8GB 或以上）
- **存储**: 至少 20GB 可用磁盘空间（推荐 50GB 或以上）
- **带宽**: 100Mbps 网络连接（根据用户量调整）

### 环境要求
- Node.js 版本 >=22.12.0 <23.0.0
- PostgreSQL 数据库
- Redis 数据库
- pnpm 包管理器

### 必需环境变量
- **JWT_SECRET**: JWT 加密密钥
- **MAIN_URL**: 主站点 URL（如：https://postiz.example.com）
- **FRONTEND_URL**: 前端 URL（如：https://postiz.example.com）
- **NEXT_PUBLIC_BACKEND_URL**: 公共后端 URL（如：https://api.postiz.example.com）
- **BACKEND_INTERNAL_URL**: 内部后端 URL（如：http://localhost:3000）
- **DATABASE_URL**: PostgreSQL 数据库连接字符串
- **REDIS_URL**: Redis 连接字符串（如：redis://localhost:6379）
- **STORAGE_PROVIDER**: 存储提供者（如：local、s3等）

### 安装步骤
1. 克隆仓库
2. 安装依赖：`pnpm install`
3. 配置环境变量
4. 数据库迁移：`pnpm run prisma-db-push`
5. 启动开发服务器：`pnpm run dev`

### 详细部署步骤

#### 本地开发部署
1. 确保已安装 Node.js (>=22.12.0)、PostgreSQL 和 Redis
2. 克隆项目仓库：`git clone <repository-url>`
3. 进入项目目录：`cd postiz-app`
4. 安装依赖：`pnpm install`
5. 复制环境变量文件：`cp .env.example .env`（如果存在示例文件）
6. 配置 .env 文件中的所有必需环境变量
7. 运行数据库迁移：`pnpm run prisma-db-push`
8. 启动开发服务器：`pnpm run dev`
9. 访问前端界面：http://localhost:4200
10. 访问后端 API：http://localhost:3000

#### 生产环境部署
1. 准备生产服务器，确保满足性能要求
2. 安装 Node.js、PostgreSQL 和 Redis
3. 克隆项目仓库到服务器
4. 在项目根目录创建 .env 文件并配置生产环境变量
5. 安装项目依赖：`pnpm install`
6. 构建项目：`pnpm run build`
7. 运行数据库迁移：`pnpm run prisma-db-push`
8. 启动生产服务器：
   - 后端：`pnpm run start:prod:backend`
   - 前端：`pnpm run start:prod:frontend`
   - Workers：`pnpm run start:prod:workers`
   - Cron：`pnpm run start:prod:cron`
9. 配置反向代理（如 Nginx）将请求转发到相应的端口
10. 配置 SSL 证书以启用 HTTPS

#### Docker 部署
1. 确保已安装 Docker 和 Docker Compose
2. 克隆项目仓库
3. 配置 .env 文件中的环境变量
4. 构建 Docker 镜像：`pnpm run docker-build`
5. 创建容器：`pnpm run docker-create`
6. 启动服务：`docker start postiz`
7. 或者使用开发环境 Docker 配置：`pnpm run dev:docker`

#### PM2 部署
1. 安装 PM2：`npm install -g pm2`
2. 构建项目：`pnpm run build`
3. 使用 PM2 启动应用：`pnpm run pm2`
4. PM2 将自动管理所有服务进程

### 启动命令
- 开发模式：`pnpm run dev`
- 构建项目：`pnpm run build`
- 生产启动：
  - 后端：`pnpm run start:prod:backend`
  - 前端：`pnpm run start:prod:frontend`
  - Workers：`pnpm run start:prod:workers`
  - Cron：`pnpm run start:prod:cron`
- Docker 部署：`pnpm run dev:docker`
- PM2 部署：`pnpm run pm2`

## 项目优势

1. **AI 集成**: 内置多种 AI 功能，智能生成内容
2. **多平台支持**: 支持 10+ 个主流社交媒体平台
3. **团队协作**: 完善的团队协作功能
4. **数据分析**: 详细的内容表现分析
5. **开源**: 基于 AGPL-3.0 许可证的开源项目
6. **自托管**: 支持自托管部署

## 适用对象

- 社交媒体经理
- 内容创作者
- 数字营销团队
- 企业社交媒体部门
- 需要管理多个社交媒体账户的个人或团队

## 合规性声明

- Postiz 是一个开源、自托管的社交媒体调度工具
- Postiz 托管服务使用官方平台批准的 OAuth 流程
- Postiz 不会自动化或抓取社交媒体平台内容
- Postiz 不收集、存储或代理用户的 API 密钥或访问令牌
- Postiz 从不要求用户将 API 密钥粘贴到托管产品中
- Postiz 用户直接与社交媒体平台进行身份验证

## 开源协议

该项目采用 AGPL-3.0 许可证，详见 LICENSE 文件。

## 生态系统

- **NodeJS SDK**: 官方 Node.js SDK
- **N8N 自定义节点**: N8N 集成节点
- **Make.com 集成**: Make.com 平台集成
- **公共 API**: 提供公共 API 接口

## 快速开始

要快速启动项目，请参考[快速开始指南](https://docs.postiz.com/quickstart)